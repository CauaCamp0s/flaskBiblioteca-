{% extends "base.html" %}

{% block content %}
  <h1 class="mt-3">Editar Livro</h1>
  <form action="{{ url_for('editar_livro', livro_id=livro.id) }}" method="post" enctype="multipart/form-data">
    <div class="form-group">
      <label for="titulo">Título</label>
      <input type="text" class="form-control" id="titulo" name="titulo" value="{{ livro.titulo }}" required>
    </div>
    <div class="form-group">
      <label for="autor">Autor</label>
      <select class="form-control" id="autor" name="autor_id">
        {% for autor in autores %}
          <option value="{{ autor.id }}" {% if autor.id == livro.autor_id %}selected{% endif %}>{{ autor.nome }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="ano_publicacao">Ano de Publicação</label>
      <input type="number" class="form-control" id="ano_publicacao" name="ano_publicacao" value="{{ livro.ano_publicacao }}">
    </div>
    <div class="form-group">
      <label for="genero">Gênero</label>
      <select class="form-control" id="genero" name="genero_id">
        {% for genero in generos %}
          <option value="{{ genero.id }}" {% if genero.id == livro.genero_id %}selected{% endif %}>{{ genero.nome }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="url_da_capa">URL da Capa</label>
      <input type="file" class="form-control" id="capa_upload" name="capa_upload">
    </div>
    <div class="form-group">
      <label for="disponivel">Disponível</label>
      <select class="form-control" id="disponivel" name="disponivel">
        <option value="1" {% if livro.disponivel %}selected{% endif %}>Sim</option>
        <option value="0" {% if not livro.disponivel %}selected{% endif %}>Não</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Atualizar Livro</button>
  </form>
{% endblock %}
